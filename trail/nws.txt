const apikey = "9f2dc5470f2f484fba523b2c2eeb96a8";
const url = "https://newsapi.org/v2/everything?q=";

window.addEventListener("load", () => fetchnews("India"));
async function fetchnews(query) {
  const res = await fetch(`${url}${query}&apiKey=${apikey}`);
  const data = await res.json();
  console.log(data);
  binddata(data.articles);
}
function binddata(articles) {
  const cardscont = document.getElementById("cardscontainer");
  const template = document.getElementById("tem");

  cardscont.innerHTML = "";

  articles.forEach((article) => {
    if (!article.urlToImage) return;
    const cardclone = template.content.cloneNode(true);
    filldata(cardclone, article);
    cardscont.appendChild(cardclone);
  });
}

function filldata(cardclone, article) {
  const newsimg = cardclone.getElementById("#nwsimg");
  const newssrc = cardclone.getElementById("#source");
  const newstitle = cardclone.getElementById("#title");
  const newsmatter = cardclone.getElementById("#matter");

  newsimg.src = article.urlToImage;
  newstitle.innerHTML = article.title;
  newstitle.innerHTML = `${article.source.name}`;
  newsmatter.innerHTML = article.description;
}


* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
#nv {
  width: 100%;
  height: 60px;
  background-color: rgb(196, 245, 245);
  font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
    "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
  font-weight: bold;
  max-width: 1370px;
  position: fixed;
  z-index: 1;
}
ul {
  display: flex;
  align-items: center;
  position: relative;
  top: 1px;
  list-style: none;
}
.bs:active {
  color: brown;
}
li {
  margin: 18px;
  cursor: pointer;
}
#logo {
  margin-right: 420px;
  position: relative;
  left: 10px;
}
#im {
  height: 35px;
  width: 50px;
  position: relative;
  bottom: 7px;
}
#ip {
  position: relative;
  bottom: 10px;
  left: 200px;
}
.bs {
  position: relative;
  bottom: 10px;
}
input {
  outline: none;
  border-style: solid;
  border-width: 2px;
  border-radius: 5px;
  border-color: rgb(83, 69, 69);
  margin-right: 5px;
  height: 30px;
}
button {
  height: 30px;
  width: 70px;
  outline: none;
  background-color: rgb(72, 174, 221);
  color: white;
  border-radius: 3px;
  cursor: pointer;
  border: none;
}
input:hover {
  border-color: rgb(180, 209, 221);
}
button:active {
  background-color: skyblue;
}
main {
  padding-block: 20px;
  margin-left: 80px;
  font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
    "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
}
.news-cont {
  margin-top: 80px;
  justify-content: space-between;
  flex-wrap: wrap;
  row-gap: 20px;
  align-items: start;
  display: flex;
}
.news {
  width: 350px;
  position: relative;
  right: 35px;
  min-height: 400px;
  box-shadow: 0 0 4px rgb(47, 112, 47);
  border-radius: 4px;
  cursor: pointer;
  background-color: white;
  overflow: hidden;
  cursor: pointer;
}
.header img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}
.content {
  padding: 15px;
}
#source {
  margin-block: 10px;
}
